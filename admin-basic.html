<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Basic Admin ‚Äî Flamingo Auto</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        .admin-panel { 
            max-width: 900px; 
            margin: 2rem auto; 
            padding: 1.25rem; 
            background: #fff; 
            border-radius: 8px; 
        }
        .admin-panel h1 { margin-bottom: 0.5rem; }
        .admin-panel label { display: block; margin-top: 0.75rem; font-weight: 600; }
        .admin-panel input[type="text"], .admin-panel input[type="password"], .admin-panel textarea, .admin-panel select { 
            width: 100%; 
            padding: 0.75rem; 
            border: 1px solid #ddd; 
            border-radius: 6px; 
        }
        .admin-actions { 
            margin-top: 1rem; 
            display: flex; 
            gap: 0.75rem; 
            flex-wrap: wrap; 
        }
        .muted { color: #666; font-size: 0.95rem; }
        .error-message { color: #dc3545; margin-top: 0.5rem; }
    </style>
</head>
<body>
    <main class="container admin-panel">
        <div class="hero-header">
            <a class="logo" href="index.html">FLAMINGO AUTO</a>
            <div class="lang-switch">
                <a class="lang-btn" href="index.html">ET</a>
                <a class="lang-btn" href="ru.html">RU</a>
            </div>
        </div>
        
        <h1>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å (Basic)</h1>
        <p class="muted">–ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ –º–æ–¥—É–ª–µ–π. –ü–∞—Ä–æ–ª—å: <strong>flamingo2024</strong></p>

        <!-- –°–µ–∫—Ü–∏—è –≤—Ö–æ–¥–∞ -->
        <div id="login-area">
            <label for="admin-password">–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</label>
            <input id="admin-password" type="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: flamingo2024" />
            <div class="admin-actions">
                <button id="login-btn" class="btn">üîë –í–æ–π—Ç–∏</button>
                <a href="blog.html" class="btn" style="background:#fff;color:var(--primary-color);border:1px solid #eee;">üìñ –ë–ª–æ–≥</a>
            </div>
            <p id="login-error" class="error-message" style="display:none;"></p>
        </div>

        <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–ø–∏—Å–µ–π -->
        <div id="editor-area" style="display:none; margin-top:1.25rem;">
            <div style="background: #d4edda; color: #155724; padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
            </div>

            <label for="post-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
            <input id="post-title" type="text" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø–∏—Å–∏" />

            <label for="post-excerpt">–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ / –∞–Ω–æ–Ω—Å</label>
            <input id="post-excerpt" type="text" placeholder="–ö–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ" />

            <label for="post-content">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</label>
            <textarea id="post-content" rows="8" placeholder="–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –∑–∞–ø–∏—Å–∏"></textarea>

            <label for="post-locale">–ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤</label>
            <select id="post-locale">
                <option value="all">–û–±–µ –≤–µ—Ä—Å–∏–∏ (ET + RU)</option>
                <option value="et">–≠—Å—Ç–æ–Ω—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (ET)</option>
                <option value="ru" selected>–†—É—Å—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (RU)</option>
            </select>

            <div class="admin-actions">
                <button id="save-post" class="btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ localStorage</button>
                <button id="logout-btn" class="btn" style="background:#fff;color:#dc3545;border:1px solid #eee;">üö™ –í—ã–π—Ç–∏</button>
                <a href="blog.html" class="btn" style="background:#fff;color:var(--primary-color);border:1px solid #eee;">üìñ –ë–ª–æ–≥</a>
            </div>

            <div id="admin-feedback" class="muted" style="margin-top:0.75rem;"></div>
        </div>
    </main>

    <script>
        // –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ –º–æ–¥—É–ª–µ–π
        const ADMIN_PASSWORD = 'flamingo2024';
        
        // DOM elements
        const loginArea = document.getElementById('login-area');
        const editorArea = document.getElementById('editor-area');
        const loginBtn = document.getElementById('login-btn');
        const loginInput = document.getElementById('admin-password');
        const loginError = document.getElementById('login-error');
        const saveBtn = document.getElementById('save-post');
        const logoutBtn = document.getElementById('logout-btn');
        const feedback = document.getElementById('admin-feedback');

        console.log('–ê–¥–º–∏–Ω–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –ø–∞—Ä–æ–ª—å:', ADMIN_PASSWORD);

        // Check if already logged in
        if (sessionStorage.getItem('flamingo_admin_authed') === '1') {
            showEditor();
        }

        function showEditor() {
            loginArea.style.display = 'none';
            editorArea.style.display = 'block';
            feedback.textContent = '';
        }

        function showLogin() {
            loginArea.style.display = 'block';
            editorArea.style.display = 'none';
            loginInput.value = '';
            feedback.textContent = '';
        }

        // Login button handler
        loginBtn.addEventListener('click', function() {
            console.log('–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞');
            console.log('–í–≤–µ–¥—ë–Ω –ø–∞—Ä–æ–ª—å:', loginInput.value);
            console.log('–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å:', ADMIN_PASSWORD);
            
            loginError.style.display = 'none';
            
            if (loginInput.value === ADMIN_PASSWORD) {
                console.log('–ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π!');
                sessionStorage.setItem('flamingo_admin_authed', '1');
                showEditor();
            } else {
                console.log('–ü–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π!');
                loginError.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ: flamingo2024';
                loginError.style.display = 'block';
            }
        });

        // Enter key
        loginInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                loginBtn.click();
            }
        });

        // Logout
        logoutBtn.addEventListener('click', function() {
            sessionStorage.removeItem('flamingo_admin_authed');
            showLogin();
        });

        // Save post (–ø—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è –≤ localStorage)
        saveBtn.addEventListener('click', function() {
            const title = document.getElementById('post-title').value.trim();
            const excerpt = document.getElementById('post-excerpt').value.trim();
            const content = document.getElementById('post-content').value.trim();
            const locale = document.getElementById('post-locale').value;

            if (!title || !excerpt) {
                feedback.textContent = '–£–∫–∞–∂–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.';
                return;
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage (–∫–∞–∫ –≤ –∞—Ä—Ö–∏–≤–µ)
            const posts = JSON.parse(localStorage.getItem('flamingo_posts') || '[]');
            
            const post = {
                id: Date.now(),
                title: title,
                excerpt: excerpt,
                content: content,
                created: new Date().toISOString(),
                locale: locale,
                author: 'admin'
            };

            posts.push(post);
            localStorage.setItem('flamingo_posts', JSON.stringify(posts));

            feedback.textContent = '‚úÖ –ó–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ localStorage! –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: ' + posts.length;
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('post-title').value = '';
            document.getElementById('post-excerpt').value = '';
            document.getElementById('post-content').value = '';
        });
    </script>
</body>
</html>