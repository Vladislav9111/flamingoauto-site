<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Test Admin ‚Äî Flamingo Auto</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        .admin-panel { 
            max-width: 600px; 
            margin: 2rem auto; 
            padding: 2rem; 
            background: #fff; 
            border-radius: 8px; 
        }
        .debug { 
            background: #f8f9fa; 
            padding: 1rem; 
            border-radius: 6px; 
            margin: 1rem 0; 
            font-family: monospace; 
        }
        input, button { 
            padding: 0.75rem; 
            margin: 0.5rem 0; 
            border: 1px solid #ddd; 
            border-radius: 6px; 
        }
        button { 
            background: #007bff; 
            color: white; 
            border: none; 
            cursor: pointer; 
        }
        .error { color: #dc3545; }
        .success { color: #28a745; }
    </style>
</head>
<body>
    <main class="container admin-panel">
        <h1>üß™ –¢–µ—Å—Ç –∞–¥–º–∏–Ω–∫–∏</h1>
        
        <div class="debug">
            <h3>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h3>
            <div id="debug-info">–ó–∞–≥—Ä—É–∂–∞–µ–º...</div>
        </div>

        <div id="login-section">
            <h3>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h3>
            <input id="password-input" type="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" />
            <br>
            <button id="login-button">–í–æ–π—Ç–∏</button>
            <div id="login-result"></div>
        </div>

        <div id="admin-section" style="display:none;">
            <h3 class="success">‚úÖ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!</h3>
            <p>–ê–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.</p>
            <button id="logout-button">–í—ã–π—Ç–∏</button>
        </div>
    </main>

    <script>
        const CORRECT_PASSWORD = 'flamingo2024';
        
        const debugInfo = document.getElementById('debug-info');
        const passwordInput = document.getElementById('password-input');
        const loginButton = document.getElementById('login-button');
        const loginResult = document.getElementById('login-result');
        const loginSection = document.getElementById('login-section');
        const adminSection = document.getElementById('admin-section');
        const logoutButton = document.getElementById('logout-button');

        // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        function updateDebug() {
            const info = [
                `–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å: "${CORRECT_PASSWORD}"`,
                `–¢–µ–∫—É—â–∏–π –≤–≤–æ–¥: "${passwordInput.value}"`,
                `–î–ª–∏–Ω–∞ –≤–≤–æ–¥–∞: ${passwordInput.value.length}`,
                `–°–µ—Å—Å–∏—è: ${sessionStorage.getItem('flamingo_admin_authed') || '–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞'}`,
                `URL: ${window.location.href}`
            ];
            debugInfo.innerHTML = info.join('<br>');
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        if (sessionStorage.getItem('flamingo_admin_authed') === '1') {
            showAdmin();
        }

        function showAdmin() {
            loginSection.style.display = 'none';
            adminSection.style.display = 'block';
        }

        function showLogin() {
            loginSection.style.display = 'block';
            adminSection.style.display = 'none';
            passwordInput.value = '';
            loginResult.innerHTML = '';
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–ª–∞–¥–∫—É –ø—Ä–∏ –≤–≤–æ–¥–µ
        passwordInput.addEventListener('input', updateDebug);
        
        // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        updateDebug();

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ö–æ–¥–∞
        loginButton.addEventListener('click', () => {
            console.log('–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞');
            console.log('–í–≤–µ–¥—ë–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å:', passwordInput.value);
            console.log('–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å:', CORRECT_PASSWORD);
            console.log('–°–æ–≤–ø–∞–¥–∞—é—Ç?', passwordInput.value === CORRECT_PASSWORD);
            
            updateDebug();
            
            if (passwordInput.value === CORRECT_PASSWORD) {
                console.log('–ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π, —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏—é');
                sessionStorage.setItem('flamingo_admin_authed', '1');
                loginResult.innerHTML = '<div class="success">‚úÖ –ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π!</div>';
                setTimeout(showAdmin, 1000);
            } else {
                console.log('–ü–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π');
                loginResult.innerHTML = '<div class="error">‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å</div>';
            }
        });

        // Enter –¥–ª—è –≤—Ö–æ–¥–∞
        passwordInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                loginButton.click();
            }
        });

        // –í—ã—Ö–æ–¥
        logoutButton.addEventListener('click', () => {
            sessionStorage.removeItem('flamingo_admin_authed');
            showLogin();
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
        setTimeout(() => {
            if (passwordInput.value === '') {
                passwordInput.value = CORRECT_PASSWORD;
                updateDebug();
            }
        }, 2000);
    </script>
</body>
</html>