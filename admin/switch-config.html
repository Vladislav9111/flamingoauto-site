<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ CMS - Flamingo Auto</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        .config-panel {
            max-width: 700px;
            margin: 2rem auto;
            padding: 2rem;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .config-option {
            background: #f8f9fa;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .btn {
            background: #007bff;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 0.5rem 0.5rem 0.5rem 0;
        }
        .btn:hover { background: #0056b3; }
        .btn-success { background: #28a745; }
        .btn-success:hover { background: #218838; }
        .btn-warning { background: #ffc107; color: #000; }
        .btn-warning:hover { background: #e0a800; }
    </style>
</head>
<body>
    <main class="container config-panel">
        <div class="hero-header">
            <a class="logo" href="../index.html">FLAMINGO AUTO</a>
        </div>

        <h1>‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Netlify CMS</h1>
        <p style="color: #666; margin-bottom: 2rem;">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</p>

        <div class="config-option">
            <h3>üìù –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</h3>
            <p>–í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è: –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–≥–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, SEO –∏ –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏</p>
            <p><strong>–§–∞–π–ª:</strong> config.yml</p>
            <p><strong>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è:</strong> –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</p>
            <button class="btn btn-success" onclick="useConfig('config.yml')">‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é</button>
            <a href="?config=full" class="btn">üîç –û—Ç–∫—Ä—ã—Ç—å CMS —Å –ø–æ–ª–Ω–æ–π</a>
        </div>

        <div class="config-option">
            <h3>üöÄ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h3>
            <p>–¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è: –∑–∞–≥–æ–ª–æ–≤–æ–∫, –¥–∞—Ç–∞, –∞–≤—Ç–æ—Ä, —è–∑—ã–∫, —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</p>
            <p><strong>–§–∞–π–ª:</strong> config-simple.yml</p>
            <p><strong>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è:</strong> –ë—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π, —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º</p>
            <button class="btn btn-warning" onclick="useConfig('config-simple.yml')">‚ö° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—É—é</button>
            <a href="?config=simple" class="btn">üîç –û—Ç–∫—Ä—ã—Ç—å CMS —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π</a>
        </div>

        <div style="margin-top: 3rem; padding: 2rem; background: #e3f2fd; border-radius: 8px;">
            <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h3>
            <div style="color: #1976d2;">
                <p><strong>–ï—Å–ª–∏ CMS –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "New Blog Post":</strong></p>
                <ol>
                    <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</li>
                    <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ Netlify Identity</li>
                    <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Git Gateway –≤ –ø–∞–Ω–µ–ª–∏ Netlify</li>
                    <li>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫</li>
                </ol>
                
                <p><strong>–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:</strong></p>
                <p id="current-config">–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é...</p>
            </div>
        </div>

        <div style="margin-top: 2rem; text-align: center;">
            <a href="../admin.html" class="btn">üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞</a>
            <a href="../debug-cms.html" class="btn">üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</a>
            <a href="/" class="btn">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>
    </main>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        async function checkCurrentConfig() {
            try {
                const response = await fetch('/admin/config.yml');
                if (response.ok) {
                    const text = await response.text();
                    const isSimple = text.length < 1000; // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä–æ—á–µ
                    document.getElementById('current-config').innerHTML = 
                        `–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: ${isSimple ? '‚ö° –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è' : 'üìù –ü–æ–ª–Ω–∞—è'} –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è`;
                } else {
                    document.getElementById('current-config').innerHTML = 
                        '‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é';
                }
            } catch (error) {
                document.getElementById('current-config').innerHTML = 
                    '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: ' + error.message;
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–∏–º–∏—Ç–∞—Ü–∏—è - –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Å–∫—Ä–∏–ø—Ç)
        function useConfig(configFile) {
            alert(`–î–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ ${configFile}:\n\n1. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ç–µ–∫—É—â–∏–π config.yml –≤ config-backup.yml\n2. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ ${configFile} –≤ config.yml\n3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É CMS\n\n–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –≤—ã—à–µ.`);
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ URL –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è CMS
        const urlParams = new URLSearchParams(window.location.search);
        const configType = urlParams.get('config');
        
        if (configType === 'simple') {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º CMS —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
            setTimeout(() => {
                window.location.href = '/admin/?config=simple';
            }, 1000);
        } else if (configType === 'full') {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º CMS —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
            setTimeout(() => {
                window.location.href = '/admin/?config=full';
            }, 1000);
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', checkCurrentConfig);
    </script>
</body>
</html>